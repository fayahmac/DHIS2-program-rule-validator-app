<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pages/ProgramRulesForm.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: pages/ProgramRulesForm.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState, useEffect } from 'react';
import { useDataMutation, useDataQuery } from '@dhis2/app-runtime';
import { Link } from 'react-router-dom';
import './ProgramRulesForm.css';
import Button from '@mui/material/Button';
import Dialog from '@mui/material/Dialog';
import DialogActions from '@mui/material/DialogActions';
import DialogContent from '@mui/material/DialogContent';
import DialogContentText from '@mui/material/DialogContentText';
import DialogTitle from '@mui/material/DialogTitle';
import useMediaQuery from '@mui/material/useMediaQuery';
import { useTheme } from '@mui/material/styles';


/*
 * this the component definition and implementation and program rule saving into the system
 * @returns {*}
 */
const ProgramRulesForm = () => {
    
    /**
     * this function handles form field definition 
     * @type {*}
     */
    const [programRule, setProgramRule] = useState({
        program: '',
        name: '',
        priority: '',
        description: '',
        condition: '',
        actionType: '',
        actionData: '',
        actionContent:'',
        trackedEntity:'',
        dataElement: ''
    });
    /**
     * this are function definition of almost every function called and using the use state
     * @type {*}
     */
    const [selectedFunction, setSelectedFunction] = useState('');
    const [condition, setCondition] = useState('');
    const [isSyntaxCorrect, setIsSyntaxCorrect] = useState(null);
    const [programs, setPrograms] = useState([]);
    const [variables, setVariables] = useState([]);
    const [mutationLoading, setMutationLoading] = useState(false);
    const [isDialogOpen, setIsDialogOpen] = useState(false);
    const theme = useTheme();
    const fullScreen = useMediaQuery(theme.breakpoints.down('md'));
    const [selectedDataElementId, setSelectedDataElementId] = useState('');
    const [selectedTrackedEntityId, setSelectedTrackedEntityId] = useState('');
    const [open, setOpen] = useState(false);
    const [dataElements, setDataElements] = useState([]);
    const [trackedEntityAttributes, setTrackedEntityAttributes] = useState([]);
   
    
    /**
     * this function handles the api call where it fetches dataelements from the instance using the useDataQuery function
     * @type {{ dataElements: { resource: string; params: { fields: {}; }; }; }}
     */
    const dataElementQuery = {
        dataElements: {
            resource: 'dataElements',
            params: {
                fields: ['id', 'displayName'],
            },
        },
    };
    
    
    /**
     * this function handles the api call where it fetches trackedEntityAttributes from the instance using the useDataQuery function
     * @type {{ trackedEntityAttributes: { resource: string; params: { fields: {}; }; }; }}
     */
    const trackedEntityAttributeQuery = {
        trackedEntityAttributes: {
            resource: 'trackedEntityAttributes',
            params: {
                fields: ['id', 'displayName'],
            },
        },
    };
    
    /**
     * this two function handles the loading states of dataelements and trackedentityatrity
     * @type {*}
     */
    const { loading: loadingDataElements, error: errorDataElements, data: dataDataElements } = useDataQuery(dataElementQuery);
    const { loading: loadingTrackedEntityAttributes, error: errorTrackedEntityAttributes, data: dataTrackedEntityAttributes } = useDataQuery(trackedEntityAttributeQuery);

    useEffect(() => {
        if (!loadingDataElements &amp;&amp; !errorDataElements &amp;&amp; dataDataElements) {
            setDataElements(dataDataElements.dataElements.dataElements);
        }
    }, [loadingDataElements, errorDataElements, dataDataElements]);

    useEffect(() => {
        if (!loadingTrackedEntityAttributes &amp;&amp; !errorTrackedEntityAttributes &amp;&amp; dataTrackedEntityAttributes) {
            setTrackedEntityAttributes(dataTrackedEntityAttributes.trackedEntityAttributes.trackedEntityAttributes);
        }
    }, [loadingTrackedEntityAttributes, errorTrackedEntityAttributes, dataTrackedEntityAttributes]);

    const handleOpen = () => {
        setOpen(true);
    };

    const handleClose = () => {
        setOpen(false);
    };

    
   /*
    * this function handles the fetching of programs from the dhis2 instance using the useDataQuery parameters
    * @type {*}
    */
   const { loading: loadingPrograms, error: errorPrograms, data: dataPrograms } = useDataQuery({
        programs: {
            resource: 'programs',
            params: {
                fields: ['id', 'displayName'],
            },
        }
    });
     
    
    /**
     * this function handles the fetching and filtering of programRuleVariables by program selected from the dhis2 instance using the useDataQuery parameters
     * @type {*}
     */
    const { refetch: fetchVariables, loading: loadingVariables, error: errorVariables, data: dataVariables } = useDataQuery({
        variables: {
            resource: 'programRuleVariables',
            params: ({ programId }) => ({
                filter: `program.id:eq:${programId}`,
                fields: ['id', 'displayName'],
            }),
        },
    }, { lazy: true });

    useEffect(() => {
        if (!loadingPrograms &amp;&amp; !errorPrograms &amp;&amp; dataPrograms) {
            setPrograms(dataPrograms.programs.programs);
        }
    }, [loadingPrograms, errorPrograms, dataPrograms]);

    useEffect(() => {
        if (programRule.program) {
            fetchVariables({ programId: programRule.program });
        }
    }, [programRule.program]);

    useEffect(() => {
        if (!loadingVariables &amp;&amp; !errorVariables &amp;&amp; dataVariables) {
            setVariables(dataVariables.variables.programRuleVariables);
        }
    }, [loadingVariables, errorVariables, dataVariables]);

    useEffect(() => {
        checkSyntax();
    }, [condition]);
  
    
    /**
     * this function handles the syntaxt validation when creating program rules actions
     */
    const checkSyntax = () => {
        if (condition.trim() === '') {
            setIsSyntaxCorrect(3); // Expression is empty
        } else {
            const regex = /(\{.*?\})|(\(.*?\))|([=>&lt;])|(\w+)/g;
            const matches = condition.match(regex);

            if (matches) {
                let isCorrect = true;
                for (let match of matches) {
                    if (!/^(\{.*?\})|(\(.*?\))|([=>&lt;])|(\w+)$/.test(match)) {
                        isCorrect = false;
                        break;
                    }
                }
                setIsSyntaxCorrect(isCorrect ? 2 : 1); // Set syntax correctness based on the check
            } else {
                setIsSyntaxCorrect(1); // Syntax is incorrect
            }
        }
    };
    
    
    /**
     * this function handles the selection of input fields and display it properly in the selected input field
     * the function handles the value extraction from the input fields to use it for the form submission
     * @param {*} event
     */
    const handleChange = (event) => {
        const { name, value } = event.target;
        if (name === 'condition') {
            setCondition(value);
            setProgramRule({ ...programRule, condition: value });
        } else if (name === 'function') {
            setSelectedFunction(value);
            setCondition(prevCondition => prevCondition + value);
            setProgramRule({ ...programRule, condition: condition + value });
        } else if (name === 'variable') {
            const variableSyntax = `#{${value}}`;
            setCondition(prevCondition => prevCondition + variableSyntax);
            setProgramRule({ ...programRule, condition: condition + variableSyntax });
        } else {
            setProgramRule({ ...programRule, [name]: value });
        }
        if (name === 'dataElement') {
            setSelectedDataElementId(value);
            console.log('Selected Data Element ID:', value);
        } else if (name === 'trackedEntity') {
            setSelectedTrackedEntityId(value);
            console.log('Selected Data Element ID:', value);
        }
    };

    
    /**
     * this function generates two distinct IDs to be used when creating a program rule with its associated action 
     * @async
     * @returns {unknown}
     */
    const fetchNewId = async () => {
        try {
            const response = await fetch('http://localhost:8080/api/system/id', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Basic ${btoa('admin:district')}` // Ensure these credentials are correct
                }
            });
    
            if (!response.ok) {
                console.error('Response Status:', response.status, response.statusText);
                const errorText = await response.text();
                console.error('Response Body:', errorText);
                throw new Error(`Failed to fetch new ID: ${response.statusText}`);
            }
    
            const contentType = response.headers.get('content-type');
            if (!contentType || !contentType.includes('application/json')) {
                const errorText = await response.text();
                console.error('Response Body:', errorText);
                throw new Error('Response is not valid JSON');
            }
    
            const data = await response.json();
            return data.codes[0];
        } catch (error) {
            console.error('Error fetching new ID:', error);
            throw error;
        }
    };
    
    
    /**
     * this function checks and compares the generated IDs if they dont match each other to avoid confliction during the saving of the program rule
     * @async
     * @returns {unknown}
     */
    const fetchTwoDistinctIds = async () => {
        try {
            const id1 = await fetchNewId();
            let id2;
            
            // Loop until we get a different ID
            do {
                id2 = await fetchNewId();
            } while (id1 === id2);
    
            console.log(`Fetched distinct IDs: ${id1}, ${id2}`);
            return [id1, id2];
        } catch (error) {
            console.error('Error fetching two distinct IDs:', error);
            throw error;
        }
    };
   
    
    /**
     * this handles the creationn of the program rule into the system, it uses the data mutation function from dhis2 to send the data thruogh
     * @type {{ resource: string; type: string; data: (payload: any) => any; }}
     */
    const createProgramRuleMutation = {
        resource: 'metadata',
        type: 'create',
        data: (payload) => payload,
    };
   
    
    /**
     * this uses the create program mutation to mutate or send the metadata to the instance
     * @type {*}
     */
    const [mutate] = useDataMutation(createProgramRuleMutation);

    
    /**
     * this function handles the submission of the metadata generated during the form selection
     * it also define the payload format that is accepted in the dhis2 metadata definition
     * @async
     * @param {*} event
     * @returns {*}
     */
    const handleSubmit = async (event) => {
        event.preventDefault();
        if (isSyntaxCorrect !== 2) {
            alert('Please fix the syntax errors in the condition.');
            return;
        }
    
        try {
            setMutationLoading(true);
    
            const [newProgramRuleId, newProgramRuleActionId] = await fetchTwoDistinctIds();
    
            const payload = {
                programRules: [
                    {
                        id: newProgramRuleId,
                        description: programRule.description,
                        priority: programRule.priority,
                        condition: programRule.condition,
                        name: programRule.name,
                        program: {
                            id: programRule.program,
                        },
                        programRuleActions:[ 
                            {
                                id: newProgramRuleActionId,
                                data: programRule.actionData,
                                content:programRule.actionContent,
                                programRuleActionType: programRule.actionType,
                                trackedEntityAttribute: {
                                    id: selectedTrackedEntityId,
                                },
                                programRule: {
                                    id: newProgramRuleId,
                                },
                                dataElement: {
                                    id: selectedDataElementId,
                                },

                            },
                        ],
                    },
                ],
                  programRuleActions: [
                    {
                        id: newProgramRuleActionId,
                        data: programRule.actionData,
                        content: programRule.actionContent,
                        programRuleActionType: programRule.actionType,
                        trackedEntityAttribute: {
                            id: selectedTrackedEntityId,
                        },
                        programRule: {
                            id: newProgramRuleId,
                        },
                        dataElement: {
                            id: selectedDataElementId,
                        },
                    },
                ] 
            };
    
            const response = await mutate(payload);
            console.log('API Response:', response);
            setIsDialogOpen(true);
        } catch (error) {
            console.error('Error saving program rule:', error);
            alert('Failed to save program rule');
        } finally {
            setMutationLoading(false);
        }
    };
    
    /**
     * handles dialog content open and close
     * 
     */
    const handleDialogClose = () => {
        setIsDialogOpen(false);
    };
    /**
     * handles validation(synaxt)
     * 
     */
    const handleValidation = () => {
        setIsDialogOpen(false);
    };
    
    /**
     * handle form submission on save button click
     *
     * @param {*} operator
     */
    const handleOperatorClick = (operator) => {
        const textarea = document.querySelector('.form-condition');
        const start = textarea.selectionStart;
        const end = textarea.selectionEnd;
        const newValue = condition.slice(0, start) + operator + condition.slice(end);
        handleChange({ target: { name: 'condition', value: newValue } });
    };
    
    /**
     * this function contain pre defined shortcuts that are used in definition of program rule conditions
     *
     * @type {{ '+': string; '-': string; '*': string; '/': string; '%': string; '&lt;': string; '>=': string; '&lt;=': string; '==': string; '!=': string; NOT: string; AND: string; OR: string; }}
     */
    const operatorMapping = {
        '+': '+',
        '-': '-',
        '*': '*',
        '/': '/',
        '%': '%',
        '&lt;': '&lt;',
        '>=': '>=',
        '&lt;=': '&lt;=',
        '==': '==',
        '!=': '!=',
        'NOT': '!',
        'AND': '&amp;&amp;',
        'OR': '||'
    };

    
    /**
     * this function handles and display the syntaxt state when creating a program condition
     *
     * @returns {("Syntax is incorrect!" | "Syntax is correct!" | "Expression is empty" | "")}
     */
    const getSyntaxMessage = () => {
        switch (isSyntaxCorrect) {
            case 1:
                return "Syntax is incorrect!";
            case 2:
                return "Syntax is correct!";
            case 3:
                return "Expression is empty";
            default:
                return "";
        }
    };
   /**
   * Rendering the component
   *
   */
  return (
        &lt;form onSubmit={handleSubmit}>
            &lt;div className="form-container">
                &lt;h4 className='section1'>&lt;span className="circle">1&lt;/span> Enter program rule details&lt;/h4>
                &lt;div className="form-group">
                    &lt;label>Program(*)&lt;/label>
                    &lt;select className="form-input" name="program" value={programRule.program} onChange={handleChange} placeholder="Program">
                        &lt;option value="">Select Program&lt;/option>
                        {programs.map(program => (
                            &lt;option key={program.id} value={program.id}>{program.displayName}&lt;/option>
                        ))}
                    &lt;/select>
                &lt;/div>
                &lt;div className="form-group">
                    &lt;label>Name(*)&lt;/label>
                    &lt;input className="form-input" type="text" name="name" value={programRule.name} onChange={handleChange} placeholder="Name" />
                &lt;/div>
                &lt;div className="form-group">
                    &lt;label>Priority&lt;/label>
                    &lt;input className="form-input" type="text" name="priority" value={programRule.priority} onChange={handleChange} placeholder="Priority" />
                &lt;/div>
                &lt;div className="form-group">
                    &lt;label>Description&lt;/label>
                    &lt;input className="form-input" type="text" name="description" value={programRule.description} onChange={handleChange} placeholder="Description" />
                &lt;/div>
                &lt;h4 className='section1'>&lt;span className="circle">2&lt;/span> Enter program rule expression&lt;/h4>
                &lt;label>Condition&lt;/label>
                &lt;div className="form-g">
                    &lt;textarea className="form-condition"
                        value={programRule.condition}
                        onChange={handleChange}
                        placeholder="Enter condition here"
                        name="condition"
                        disabled={!programRule.program}
                    />
                    &lt;div className='form-option'>
                        &lt;select className="form-input" value={selectedFunction} name="function" onChange={handleChange} disabled={!programRule.program}>
                            &lt;option value="">Built-in Function&lt;/option>
                            &lt;option value="V{current_date}">V {'{current_date}'}&lt;/option>
                            &lt;option value="V{event_date}">V {'{event_date}'}&lt;/option>
                            &lt;option value="V{due_date}">V {'{due_date}'}&lt;/option>
                            &lt;option value="V{event_count}">V {'{event_count}'}&lt;/option>
                            &lt;option value="V{enrollment_date}">V {'{enrollment_date}'}&lt;/option>
                            &lt;option value="V{incident_date}">V {'{incident_date}'}&lt;/option>
                            &lt;option value="V{enrollment_id}">V {'{enrollment_id}'}&lt;/option>
                            &lt;option value="V{environment}">V {'{environment}'}&lt;/option>  
                            &lt;option value="V{event_id}">V {'{event_id}'}&lt;/option>
                            &lt;option value="V{orgunit_code}">V {'{orgunit_code}'}&lt;/option>
                            &lt;option value="V{program_stage_name}">V {'{program_stage_name}'}&lt;/option>
                            &lt;option value="V{program_stage_id}">V {'{program_stage_id}'}&lt;/option>
                        &lt;/select>
                        &lt;select className="form-input" name="variable" onChange={handleChange} placeholder="Variable" disabled={!programRule.program}>
                            &lt;option value="">Variables&lt;/option>
                            {variables.map(variable => (
                                &lt;option key={variable.id} value={variable.displayName}>{variable.displayName}&lt;/option>
                            ))}
                        &lt;/select>
                        &lt;select className="form-input" value={selectedFunction} name="function" onChange={handleChange} disabled={!programRule.program}>
                            &lt;option value="">Function&lt;/option>
                            &lt;option value="d2:ceil (&lt;number>)">d2:ceil {'(&lt;number>)'}&lt;/option>
                            &lt;option value="d2:floor (&lt;number>)">d2:floor {'(&lt;number>)'}&lt;/option>
                            &lt;option value="d2:round (&lt;number>)">d2:round {'(&lt;number>)'}&lt;/option>
                            &lt;option value="d2:modulus (&lt;number>,&lt;number>)">d2:modulus {'(&lt;number>,&lt;number>)'}&lt;/option>
                            &lt;option value="d2:zing (&lt;number>)">d2:zing {'(&lt;number>)'}&lt;/option>
                            &lt;option value="d2:oizp (&lt;number>)">d2:oizp {'(&lt;number>)'}&lt;/option>
                            &lt;option value="d2:concatenate (&lt;object>,&lt;object>)">d2:concatenate {'(&lt;object>,&lt;object>)'}&lt;/option>
                            &lt;option value="d2:daysBetween (&lt;date>,&lt;date>)">d2:daysBetween {'(&lt;date>,&lt;date>)'}&lt;/option>  
                            &lt;option value="d2:weeksBetween (&lt;date>,&lt;date>)">d2:weeksBetween {'(&lt;date>,&lt;date>)'}&lt;/option>
                            &lt;option value="d2:monthsBetween (&lt;date>,&lt;date>)">d2:monthsBetween {'(&lt;date>,&lt;date>)'}&lt;/option>
                            &lt;option value="d2:yearsBetween (&lt;date>,&lt;date>)">d2:yearsBetween {'(&lt;date>,&lt;date>)'}&lt;/option>
                            &lt;option value="d2:hasValue (&lt;sourcefield>)">d2:hasValue {'(&lt;sourcefield>)'}&lt;/option>
                            &lt;option value="d2:validatePattern (&lt;text>,&lt;regex>)">d2:validatePattern {'(&lt;text>,&lt;regex>)'}&lt;/option>
                            &lt;option value="d2:addDays (&lt;date>,&lt;number>)">d2:addDays {'(&lt;date>,&lt;number>)'}&lt;/option>
                            &lt;option value="d2:countIfValue (&lt;sourcefield>, &lt;value>)">d2:countIfValue {'(&lt;sourcefield>, &lt;value>)'}&lt;/option>
                            &lt;option value="d2:countIfZeroPos (&lt;sourcefield>)">d2:countIfZeroPos {'(&lt;sourcefield>)'}&lt;/option>
                            &lt;option value="d2:hasValue (&lt;sourcefield>)">d2:hasValue {'(&lt;sourcefield>)'}&lt;/option>
                            &lt;option value="d2:zpvc (&lt;object>,&lt;object>)">d2:zpvc {'(&lt;object>,&lt;object>)'}&lt;/option>
                            &lt;option value="d2:validatePatterns (&lt;text>,&lt;regex)">d2:validatePatterns {'(&lt;text>,&lt;regex)'}&lt;/option>
                            &lt;option value="d2:left (&lt;text>,&lt;number>)">d2:left {'(&lt;text>,&lt;number>)'}&lt;/option>
                            &lt;option value="d2:right (&lt;text>,&lt;number>)">d2:right {'(&lt;text>,&lt;number>)'}&lt;/option>
                            &lt;option value="d2:substring (&lt;text>,&lt;number>,&lt;number>)">d2:substring {'(&lt;text>,&lt;number>,&lt;number>)'}&lt;/option>  
                            &lt;option value="d2:split (&lt;text>,&lt;text>,&lt;number>)">d2:split {'(&lt;text>,&lt;text>,&lt;number>)'}&lt;/option>
                            &lt;option value="d2:length (&lt;text>)">d2:length {'(&lt;text>)'}&lt;/option>
                            &lt;option value="d2:inOrgUnitGroup( &lt;orgunit_group_code> )">d2:inOrgUnitGroup{'( &lt;orgunit_group_code> )'}&lt;/option>
                            &lt;option value="d2:hasUserRole( &lt;user_role> )">d2:hasUserRole{'( &lt;user_role> )'}&lt;/option>
                            &lt;option value="d2:zScoreWFA( &lt;ageInMonth>, &lt;weight>, &lt;gender> )">d2:zScoreWFA{'( &lt;ageInMonth>, &lt;weight>, &lt;gender> )'}&lt;/option>  
                            &lt;option value="d2:zScoreHFA( &lt;ageInMonth>, &lt;height>, &lt;gender> )">d2:zScoreHFA{'( &lt;ageInMonth>, &lt;height>, &lt;gender> )'}&lt;/option>
                            &lt;option value="d2:zScoreWFH( &lt;height>, &lt;weight>, &lt;gender> )">d2:zScoreWFH{'( &lt;height>, &lt;weight>, &lt;gender> )'}&lt;/option>
                            &lt;option value="d2:extractDataMatrixValue( &lt;key>, &lt;value>)">d2:extractDataMatrixValue{'( &lt;key>, &lt;value>)'}&lt;/option>
                        &lt;/select>
                    &lt;/div>
                &lt;/div>
                &lt;div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', marginBottom: '10px' }}  >
                    {Object.keys(operatorMapping).map((displayLabel) => (
                        &lt;span
                            key={displayLabel}
                            onClick={() => handleOperatorClick(operatorMapping[displayLabel])}
                            style={{ padding: '5px 10px', cursor: 'pointer', fontSize: '21px', borderRadius: '4px' }} 
                            disabled={!programRule.program}
                        >
                            {displayLabel}
                        &lt;/span>
                    ))}
                    &lt;p>{getSyntaxMessage()}&lt;/p>
                &lt;/div>
                &lt;h4 className='section1'>&lt;span className="circle">3&lt;/span> Enter program rule action details&lt;/h4>
                &lt;div className="form-group">
                &lt;label>Action Type&lt;/label>
                &lt;select className="form-input" name="actionType" value={programRule.actionType} onChange={handleChange} placeholder="Action Type">
                    &lt;option value="">Select Action Type&lt;/option>
                    &lt;option value="SHOWWARNING">Show Warning&lt;/option>
                    &lt;option value="SHOWERROR">Show Error&lt;/option>
                    &lt;option value="MANDATORYFIELD">Make Field Mandatory&lt;/option>
                    &lt;option value="ASSIGN">Assign Value&lt;/option>
                    &lt;option value="HIDEFIELD">Hide Field&lt;/option>
                &lt;/select>
            &lt;/div>
            &lt;div className="form-group">
                &lt;label>Data Element&lt;/label>
                &lt;select className="form-input" name="dataElement" value={programRule.dataElement} onChange={handleChange} placeholder="Data Element">
                    &lt;option value="">Select Data Element&lt;/option>
                    {dataElements.map(element => (
                        &lt;option key={element.id} value={element.id}>{element.displayName}&lt;/option>
                    ))}
                &lt;/select>
            &lt;/div>
            &lt;div className="form-group">
                &lt;label>Tracked Entity Attribute&lt;/label>
                &lt;select className="form-input" name="trackedEntity" value={programRule.trackedEntity} onChange={handleChange} placeholder="Tracked Entity">
                    &lt;option value="">Select Tracked Entity&lt;/option>
                    {trackedEntityAttributes.map(attribute => (
                        &lt;option key={attribute.id} value={attribute.id}>{attribute.displayName}&lt;/option>
                    ))}
                    &lt;/select>
                    &lt;/div>
                    &lt;div className="form-group">
                    &lt;label>static text&lt;/label>
                    &lt;input className="form-input" type="text" name="actionContent" value={programRule.actionContent} onChange={handleChange} placeholder="static text" />
                   &lt;/div>
                    &lt;div className="form-group">
                    &lt;label>Expression to evaluate and display after static text&lt;/label>
                    &lt;input className="form-input" type="text" name="actionData" value={programRule.actionData} onChange={handleChange} placeholder="Action Data" />
                &lt;/div>
            
                &lt;div className="form-button">
                    &lt;button className="form-buttonsave" type="submit" disabled={mutationLoading}>
                        {mutationLoading ? 'Saving...' : 'SAVE'}
                    &lt;/button>
                    &lt;button className="form-buttoncancel"> &lt;Link to="/" style={{ textDecoration: 'none' }}>CANCEL&lt;/Link>&lt;/button>
                &lt;/div>
            &lt;/div>
            &lt;Dialog
                fullScreen={fullScreen}
                open={isDialogOpen}
                onClose={handleDialogClose}
                aria-labelledby="responsive-dialog-title"
            >
                &lt;DialogTitle id="responsive-dialog-title">{"Program rule validation"}&lt;/DialogTitle>
                &lt;DialogContent> 
                    &lt;DialogContentText>
                        The Rule successfully created: Run validation!
                    &lt;/DialogContentText>
                &lt;/DialogContent>
                &lt;DialogActions>
                    &lt;Button onClick={handleDialogClose} color="primary">
                        Cancel
                    &lt;/Button>
                    &lt;Button onClick={handleValidation} color="primary" autoFocus>
                    &lt;Link to="/configuration-engine" style={{ textDecoration: 'none' }}>Validate&lt;/Link>
                    &lt;/Button>
                &lt;/DialogActions>
            &lt;/Dialog>
        &lt;/form>
    );
};

export default ProgramRulesForm;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#Dashboard">Dashboard</a></li><li><a href="global.html#Header">Header</a></li><li><a href="global.html#Home">Home</a></li><li><a href="global.html#HomeCard">HomeCard</a></li><li><a href="global.html#ProgramRuleConfig">ProgramRuleConfig</a></li><li><a href="global.html#Sidebar">Sidebar</a></li><li><a href="global.html#TroubleshootingEngine">TroubleshootingEngine</a></li><li><a href="global.html#programRulesQuery">programRulesQuery</a></li><li><a href="global.html#query">query</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Fri Jun 21 2024 16:42:51 GMT+0200 (Central Africa Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
